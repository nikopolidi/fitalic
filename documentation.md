# Документация по реализации приложения Fitalic

## Обзор проекта

Fitalic - это мобильное приложение, разработанное на React Native с использованием Expo, которое функционирует как персональный AI фитнес-тренер и диетолог. Приложение позволяет пользователям отслеживать калории, антропометрические данные и прогресс в достижении фитнес-целей.

## Архитектура приложения

### Технологический стек
- **React Native** с **Expo** - основа приложения
- **expo-router** - для навигации
- **zustand** - для управления состоянием
- **mmkv** - для локального хранения данных
- **react-native-unistyles** - для стилизации
- **OpenAI API** - для AI функциональности

### Структура проекта
```
src/
├── app/                  # Экраны приложения (expo-router)
│   └── (tabs)/           # Вкладки навигации
├── components/           # UI компоненты
│   ├── chat/             # Компоненты чата с AI
│   ├── nutrition/        # Компоненты отслеживания питания
│   └── profile/          # Компоненты профиля и прогресса
├── services/             # Сервисы приложения
│   ├── ai/               # Интеграция с OpenAI
│   └── storage/          # Хранение данных (zustand + mmkv)
├── styles/               # Глобальные стили
└── types/                # TypeScript типы
    └── database/         # Типы для структуры данных
```

## Основные компоненты

### 1. Хранение данных (Storage)

Для хранения данных используется комбинация zustand (менеджер состояния) и mmkv (персистентное хранилище):

- **UserStore** - хранит данные пользователя, антропометрию, цели и предпочтения
- **NutritionStore** - хранит данные о питании, приемах пищи и калориях
- **ProgressStore** - хранит фотографии прогресса и записи веса
- **ChatStore** - хранит историю чата с AI

### 2. AI Сервис

Интеграция с OpenAI API для предоставления функций AI фитнес-тренера:

- **OpenAIService** - базовый сервис для взаимодействия с API OpenAI
- **AITrainerService** - высокоуровневый сервис для функций фитнес-тренера и диетолога
- Поддержка текстовых запросов, голосовых сообщений и анализа изображений еды

### 3. Интерфейс пользователя

Приложение имеет три основные вкладки:

#### Вкладка 1: Чат с AI
- **ChatScreen** - основной экран чата
- **MessageBubble** - компонент для отображения сообщений
- **ChatInput** - компонент ввода с поддержкой текста, голоса и изображений

#### Вкладка 2: Отслеживание питания
- **NutritionList** - список приемов пищи с сводкой по калориям
- **MealItem** - компонент для отображения информации о приеме пищи

#### Вкладка 3: Профиль пользователя
- **ProfileHeader** - отображение основной информации о пользователе
- **AnthropometryForm** - форма для редактирования данных пользователя
- **ProgressGallery** - фотогалерея для отслеживания прогресса
- **WeightTracker** - график и список для отслеживания изменений веса

## Функциональность

### Чат с AI фитнес-тренером
- Текстовое общение с AI тренером
- Запись и отправка голосовых сообщений
- Анализ фотографий еды для определения питательной ценности
- Персонализированные рекомендации на основе данных пользователя

### Отслеживание питания
- Запись приемов пищи с информацией о калориях и макронутриентах
- Дневная сводка по потребленным калориям
- Отслеживание прогресса по достижению целей по питанию
- Фильтрация по датам

### Профиль и отслеживание прогресса
- Редактирование антропометрических данных
- Установка фитнес-целей и диетических предпочтений
- Фотогалерея для визуального отслеживания прогресса
- График изменения веса с течением времени

## Настройка и запуск

### Требования
- Node.js
- Expo CLI
- API ключ OpenAI

### Установка
1. Клонировать репозиторий
2. Установить зависимости: `npm install` или `bun install`
3. Создать файл `.env` и добавить API ключ OpenAI:
   ```
   OPENAI_API_KEY=ваш_ключ_api
   ```
4. Запустить приложение: `npx expo start`

## Рекомендации по дальнейшему развитию

1. **Улучшение AI функциональности**:
   - Добавление более специализированных промптов для разных фитнес-целей
   - Интеграция с базой данных продуктов питания

2. **Расширение функций отслеживания**:
   - Добавление отслеживания тренировок
   - Более детальная аналитика прогресса

3. **Улучшение UX/UI**:
   - Добавление анимаций и переходов
   - Темная тема
   - Адаптация для планшетов

4. **Технические улучшения**:
   - Добавление тестов
   - Оптимизация производительности
   - Локализация на разные языки

## Заключение

Приложение Fitalic представляет собой полнофункциональное решение для фитнеса и питания с интеграцией AI. Оно обеспечивает персонализированный подход к достижению фитнес-целей, отслеживанию питания и мониторингу прогресса. Благодаря использованию современных технологий React Native, Expo, zustand и OpenAI API, приложение предоставляет богатый функционал и удобный пользовательский интерфейс.
